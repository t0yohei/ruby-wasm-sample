<html>
  <head> </head>
  <body>
    <div id="app"></div>
    <script type="module">
      import { DefaultRubyVM } from "https://cdn.jsdelivr.net/npm/@ruby/wasm-wasi@2.7.1/dist/browser/+esm";
      const response = await fetch("./my-ruby-app.wasm");
      const module = await WebAssembly.compileStreaming(response);
      const { vm } = await DefaultRubyVM(module);

      vm.evalAsync(`
      require "js"
      require_relative 'src/my_app'

      response = JS.global.fetch("https://www.ruby-lang.org/").await
      puts response[:status]
    `);
    </script>
  </body>
</html>
